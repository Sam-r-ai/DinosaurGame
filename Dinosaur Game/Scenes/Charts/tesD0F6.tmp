[gd_scene load_steps=7 format=3 uid="uid://gcbyjimmyci6"]

[ext_resource type="PackedScene" uid="uid://fyshm2trair4" path="res://Scenes/Prefabs/note.tscn" id="1_ih0pg"]
[ext_resource type="Script" path="res://Scripts/chart.gd" id="1_l3jka"]
[ext_resource type="AudioStream" uid="uid://df4creajdtckd" path="res://Sound Assets/Songs/03) Frank Ocean - Novacane.mp3" id="3_pa1em"]
[ext_resource type="Script" path="res://Scripts/start_trigger.gd" id="4_tx4nw"]

[sub_resource type="GDScript" id="GDScript_reaa3"]
script/source = "extends Node2D

var scroll_speed : float;

func _ready():
	var chart = get_parent();

func _physics_process(delta):
	global_position.y += scroll_speed;
"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y2xev"]
size = Vector2(40, 40)

[node name="Chart" type="Node2D" node_paths=PackedStringArray("note_parent", "song_player")]
script = ExtResource("1_l3jka")
bpm = 94
note_parent = NodePath("Track/Notes")
song_player = NodePath("SongPlayer")

[node name="SongPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("3_pa1em")

[node name="Track" type="Node2D" parent="."]
script = SubResource("GDScript_reaa3")

[node name="Notes" type="Node2D" parent="Track"]

[node name="Note11" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-352, -112)

[node name="Note5" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-352, 0)

[node name="Note7" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-176, -56)

[node name="Note9" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-176, -168)

[node name="Note10" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-352, -224)

[node name="Note6" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-176, -280)

[node name="Note8" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-352, -336)

[node name="Note12" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(-176, -392)

[node name="Note13" parent="Track/Notes" instance=ExtResource("1_ih0pg")]
position = Vector2(0, -364)

[node name="Triggers" type="Node2D" parent="Track"]

[node name="StartTrigger" type="CharacterBody2D" parent="Track/Triggers"]
script = ExtResource("4_tx4nw")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Track/Triggers/StartTrigger"]
position = Vector2(-528, 0)
shape = SubResource("RectangleShape2D_y2xev")
